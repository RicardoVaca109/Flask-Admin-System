{% extends "base.html" %} {% block body%}

<div class="container">
  <h1>Bienvenido</h1>
  {% if error %}
    <div class="alert alert-danger" role="alert">
      {{ error }}
    </div>
  {% endif %}
  <form id="auth-form" action=" {{url_for('auth_controller.login')}} " method="post">
    <input
      type="text"
      name="username"
      placeholder="Usuario"
      class="input-field"
      required
    />
    <input
      type="text"
      name="email"
      placeholder="Email"
      class="input-field"
      required
    />
    <input
      type="password"
      name="password"
      placeholder="ContraseÃ±a"
      class="input-field"
      required
    />
    <input
      type="submit"
      value="Login"
      class="btn btn-login"
      onclick="setActionForm('login')"
    />
    <input
      type="button"
      value="Register"
      class="btn btn-register"
      onclick="setActionForm('register')"
    />
  </form>
</div>
<script>
  function setActionForm(action) {
    let form = document.getElementById("auth-form");
    if (action === "login") {
      form.action = "{{url_for('auth_controller.login')}}";
      form.method = "post";
      form.submit();
    } else if (action === "register") {
      form.action = "{{url_for('auth_controller.register')}}";
      form.method = "post";
      form.submit();
    }
  }
</script>
{% endblock %}